(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,t,n){},"6nbB":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,s){var o,i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="film-list-item" data-id="'+d(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:r)===c?i.call(l,{name:"id",hash:{},data:s,loc:{start:{line:2,column:36},end:{line:2,column:42}}}):i)+'">\n    <picture>\n'+(null!=(o=u(n,"if").call(l,null!=t?u(t,"poster_path"):t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s,loc:{start:{line:4,column:8},end:{line:15,column:15}}}))?o:"")+'    </picture>\n    <div class="film-list-wrapper">\n        <h3 class="film-name">"'+d(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===c?i.call(l,{name:"title",hash:{},data:s,loc:{start:{line:18,column:31},end:{line:18,column:40}}}):i)+'"</h3>\n        <p class="film-about">'+d(typeof(i=null!=(i=u(n,"genre_ids")||(null!=t?u(t,"genre_ids"):t))?i:r)===c?i.call(l,{name:"genre_ids",hash:{},data:s,loc:{start:{line:19,column:30},end:{line:19,column:43}}}):i)+" | "+d(typeof(i=null!=(i=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?i:r)===c?i.call(l,{name:"release_date",hash:{},data:s,loc:{start:{line:19,column:46},end:{line:19,column:62}}}):i)+' <span class="mark">'+d(typeof(i=null!=(i=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?i:r)===c?i.call(l,{name:"vote_average",hash:{},data:s,loc:{start:{line:19,column:82},end:{line:19,column:98}}}):i)+"</span></p>\n    </div>\n</li>\n"},2:function(e,t,n,a,s){var o,i=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <source srcset="http://image.tmdb.org/t/p/w220_and_h330_face'+r("function"==typeof(o=null!=(o=c(n,"poster_path")||(null!=t?c(t,"poster_path"):t))?o:l)?o.call(i,{name:"poster_path",hash:{},data:s,loc:{start:{line:5,column:68},end:{line:5,column:83}}}):o)+'" media="(min-width: 320px)"\n            type="image/svg+xml" />\n        <source srcset="http://image.tmdb.org/t/p/w440_and_h660_face'+r("function"==typeof(o=null!=(o=c(n,"poster_path")||(null!=t?c(t,"poster_path"):t))?o:l)?o.call(i,{name:"poster_path",hash:{},data:s,loc:{start:{line:7,column:68},end:{line:7,column:83}}}):o)+'" media="(min-width: 768px)"\n            type="image/svg+xml" />\n        <source srcset="https://image.tmdb.org/t/p/w500'+r("function"==typeof(o=null!=(o=c(n,"poster_path")||(null!=t?c(t,"poster_path"):t))?o:l)?o.call(i,{name:"poster_path",hash:{},data:s,loc:{start:{line:9,column:55},end:{line:9,column:70}}}):o)+'" media="(min-width: 1024px)"\n            type="image/svg+xml" />\n        <img class="film-image" src="http://image.tmdb.org/t/p/w440_and_h660_face'+r("function"==typeof(o=null!=(o=c(n,"poster_path")||(null!=t?c(t,"poster_path"):t))?o:l)?o.call(i,{name:"poster_path",hash:{},data:s,loc:{start:{line:11,column:81},end:{line:11,column:96}}}):o)+'" alt="film poster">\n'},4:function(e,t,n,a,s){return'        <img class="film-image" style="height:auto" src="https://via.placeholder.com/400x600?text=YOU%27RE+AWESOME+:)"\n            alt="film poster">\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,s){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:0},end:{line:22,column:9}}}))?o:""},useData:!0})},"9TK4":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,s){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="film-image" src="http://image.tmdb.org/t/p/w440_and_h660_face'+e.escapeExpression("function"==typeof(o=null!=(o=i(n,"poster_path")||(null!=t?i(t,"poster_path"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"poster_path",hash:{},data:s,loc:{start:{line:2,column:73},end:{line:2,column:88}}}):o)+'" alt="Фильм" />\n'},3:function(e,t,n,a,s){return'<img class="film-image" style="height:auto" src="https://via.placeholder.com/416x500?text=YOU%27RE+AWESOME+:)"\n  alt="placeholder">\n'},5:function(e,t,n,a,s){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <p class="description">"'+e.escapeExpression("function"==typeof(o=null!=(o=i(n,"overview")||(null!=t?i(t,"overview"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"overview",hash:{},data:s,loc:{start:{line:37,column:28},end:{line:37,column:40}}}):o)+'"</p>\n'},7:function(e,t,n,a,s){return'    <p class="description">We\'re sorry, this movie has no description :(</p>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,s){var o,i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=u(n,"if").call(l,null!=t?u(t,"poster_path"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:1,column:0},end:{line:6,column:7}}}))?o:"")+'<div class="info-section">\n  <h2 class="title">'+d(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===c?i.call(l,{name:"title",hash:{},data:s,loc:{start:{line:8,column:20},end:{line:8,column:29}}}):i)+'</h2>\n  <p class="trailer-btn">\n    <svg class="play-svg" width="24" height="24">\n      <use href="./images/sprite.svg#icon-play"></use>\n    </svg>\n    Play Trailer</p>\n  <div class="modal-info">\n    <ul class="list-info">\n      <li class="list-info-item">\n        <span class="about-film about-film-votes">Vote / Votes</span><span\n          class="about-film-vote">'+d(typeof(i=null!=(i=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?i:r)===c?i.call(l,{name:"vote_average",hash:{},data:s,loc:{start:{line:18,column:34},end:{line:18,column:50}}}):i)+'</span><span class="about-film-info vote-divider"> / </span>\n        <span class="about-film-info vote-count">'+d(typeof(i=null!=(i=u(n,"vote_count")||(null!=t?u(t,"vote_count"):t))?i:r)===c?i.call(l,{name:"vote_count",hash:{},data:s,loc:{start:{line:19,column:49},end:{line:19,column:63}}}):i)+'</span>\n      </li>\n      <li class="list-info-item">\n        <span class="about-film about-film-popularity">Popularity</span><span\n          class="about-film-info">'+d(typeof(i=null!=(i=u(n,"popularity")||(null!=t?u(t,"popularity"):t))?i:r)===c?i.call(l,{name:"popularity",hash:{},data:s,loc:{start:{line:23,column:34},end:{line:23,column:48}}}):i)+'</span>\n      </li>\n      <li class="list-info-item">\n        <span class="about-film about-film-title">Original Title</span><span\n          class="about-film-info original-title">'+d(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===c?i.call(l,{name:"title",hash:{},data:s,loc:{start:{line:27,column:49},end:{line:27,column:58}}}):i)+'</span>\n      </li>\n      <li class="list-info-item">\n        <span class="about-film about-film-genre">Genre</span><span class="about-film-info">'+d(typeof(i=null!=(i=u(n,"genre_ids")||(null!=t?u(t,"genre_ids"):t))?i:r)===c?i.call(l,{name:"genre_ids",hash:{},data:s,loc:{start:{line:30,column:92},end:{line:30,column:105}}}):i)+'</span>\n      </li>\n    </ul>\n  </div>\n  <div>\n    <h3 class="subtitle">ABOUT</h3>\n'+(null!=(o=u(n,"if").call(l,null!=t?u(t,"overview"):t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s,loc:{start:{line:36,column:4},end:{line:40,column:11}}}))?o:"")+'  </div>\n  <button class="first add-btn" type="button">ADD TO WATCHED</button>\n  <button class="second add-btn" type="button">ADD TO QUEUE</button>\n  <button class="close-modal-btn" type="button">X</button>\n</div>\n\n'},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);var a={ARR:[],API:"2d536748299a0654176fee96f4763797",defaultURL:"https://api.themoviedb.org/3/discover/movie",defaultSearch:"https://api.themoviedb.org/3/search/movie",yearSearch:document.querySelector(".year-search"),searchBtn:document.querySelector(".search-btn"),searchInput:document.querySelector(".header-input"),listPrediction:document.querySelector(".search-list"),genreChoise:document.querySelector(".genre"),categoryGenreList:document.querySelector(".category-list"),sortChoise:document.querySelector(".sort"),sortList:document.querySelector(".sort-list"),yearChoise:document.querySelector(".year"),yearList:document.querySelector(".year-list"),clearBtn:document.querySelector(".clear-btn"),sortWrapper:document.querySelector(".sort-wrapper"),genreWrapper:document.querySelector(".genre-wrapper"),langChoise:document.querySelector(".choose-language"),langList:document.querySelector(".languages-list"),home:document.querySelector("#home"),libLink:document.querySelector(".lib-link"),logoText:document.querySelector(".logo-text"),footerLogo:document.querySelector(".footer-logo"),sectionDesc:document.querySelector(".section-desc"),sectionDescJoin:document.querySelector(".socials .section-desc"),sectionDescSupport:document.querySelector(".support .section-desc"),copyrightDesc:document.querySelector(".copyright"),developer:document.querySelector(".developer"),students:document.querySelector(".students"),genres:[{id:28,name:"Action",name_ru:"Экшн"},{id:12,name:"Adventure",name_ru:"Приключения"},{id:16,name:"Animation",name_ru:"Анимационный"},{id:35,name:"Comedy",name_ru:"Комедии"},{id:80,name:"Crime",name_ru:"Криминал"},{id:99,name:"Documentary",name_ru:"Документальные"},{id:18,name:"Drama",name_ru:"Драма"},{id:10751,name:"Family",name_ru:"Семейные"},{id:14,name:"Fantasy",name_ru:"Фантасктика"},{id:36,name:"History",name_ru:"Исторические"},{id:27,name:"Horror",name_ru:"Хоррор"},{id:10402,name:"Music",name_ru:"Музыка"},{id:9648,name:"Mystery",name_ru:"Мистика"},{id:10749,name:"Romance",name_ru:"Мелодрама"},{id:878,name:"Science Fiction",name_ru:"Научная фантастика"},{id:10770,name:"TV Movie",name_ru:"Сериал"},{id:53,name:"Thriller",name_ru:"Триллер"},{id:10752,name:"War",name_ru:"Война"},{id:37,name:"Western",name_ru:"Вестерн"}],filmList:document.querySelector(".film-list"),errorNotification:document.querySelector(".search-error"),modal:document.querySelector(".modal-section")};let s=(new Date).getFullYear();for(let e=1900;e<=s;e++)a.yearList.insertAdjacentHTML("afterbegin",`<li class="year-list-item" data-id="${e}">${e}</li>`);n("0HMw");var o=async function(e){let t=[];const n=[];return await e.then(e=>{t=[...e.results];let s="";t.forEach(e=>{const t={};t.id=e.id,t.popularity=e.popularity,t.poster_path=e.poster_path,t.title=e.title,s="";let o=[];[...e.genre_ids].forEach(e=>{a.genres.forEach(t=>{e===t.id&&("en"===a.langChoise.dataset.id?o.push(t.name):o.push(t.name_ru))})}),s=o.join(", "),t.genre_ids=s,t.overview=e.overview,t.vote_average=e.vote_average,t.vote_count=e.vote_count,t.release_date=e.release_date.split("-")[0],n.push(t)})}).catch(e=>console.log(e)),n},i=function(e=1,t=!1){return new Promise((n,s)=>{let o="&primary_release_year="+a.yearChoise.dataset.id,i="&with_genres="+a.genreChoise.dataset.id,l=a.sortChoise.dataset.id,r=a.langChoise.dataset.id;t||fetch(`${a.defaultURL}?api_key=${a.API}&sort_by=${l}&include_adult=false&include_video=false&page=${e}&vote_count.gte=1000${i}${o}&language=${r}`).then(e=>(e.ok||s(new Error(`Помилка в запиті до сервера  [error code - ${e.status}]`)),e)).then(e=>e.json()).then(e=>{if(e.results.length>0)return e;throw"Масив з данними пустий [запит виконано]"}).then(e=>n(e)).catch(e=>console.log("ошибка")),t&&(o="&primary_release_year="+a.yearChoise.dataset.id,r=a.langChoise.dataset.id,fetch(`${a.defaultSearch}?api_key=${a.API}&page=${e}&query=${t}&include_adult=false${o}&language=${r}`).then(e=>(e.ok||s(new Error(`Помилка в запиті до сервера  [error code - ${e.status}]`)),e)).then(e=>e.json()).then(e=>{if(e.results.length>0)return e;throw"Масив з данними пустий [запит виконано]"}).then(e=>n(e)).catch(e=>{a.errorNotification.classList.remove("is-hidden")}))})};var l=function(e){let t=[];return document.documentElement.clientWidth<767&&(t=e.slice(0,4)),document.documentElement.clientWidth>=768&&document.documentElement.clientWidth<1024&&(t=e.slice(0,8)),document.documentElement.clientWidth>=1024&&(t=e.slice(0,9)),t},r=n("6nbB"),c=n.n(r);const d=document.querySelector(".loader"),u=document.querySelector(".main ul.film-list"),m=document.querySelector(".film-list");var p=function(e){setTimeout(()=>{d.classList.add("is-hidden"),u.classList.add("show")},800);const t=c()(e);m.innerHTML=t},h=n("2c84"),g=n.n(h),f=(n("lUE2"),n("9TK4")),v=n.n(f),y=n("jTtp"),C=n.n(y),x=n("QJ3N"),b=(n("zrP5"),n("bzha"),function(e){let t=a.ARR.find(t=>t.id===e);const n=document.querySelector(".modal-section");"en"===a.langChoise.dataset.id&&(n.innerHTML=v()(t)),"ru"===a.langChoise.dataset.id&&(n.innerHTML=C()(t)),document.body.classList.add("stop-scroll");const s=document.querySelector(".backdrop");s.classList.remove("is-hidden"),function(e){const t=document.querySelector(".first"),n=document.querySelector(".second"),a=document.querySelector(".lib-link");console.dir(a);let s=JSON.parse(localStorage.getItem("w"))||[],o=JSON.parse(localStorage.getItem("q"))||[];const i=()=>{Object(x.error)({title:"You successfully removed movie !",text:"",delay:1200})},l=()=>{Object(x.success)({title:"You added this movie !",text:"Enjoy watching the movie !",delay:1200})};let r=0,c=0;const d=function(){s.forEach((n,a)=>{n.id===e.id&&(t.textContent="REMOVE FROM WATCHED",r=a)}),o.forEach((t,a)=>{t.id===e.id&&(n.textContent="REMOVE FROM QUEUE",c=a)})};d();t.addEventListener("click",(function(){if("REMOVE FROM WATCHED"===t.textContent)s.splice(r,1),localStorage.setItem("w",JSON.stringify(s)),t.textContent="ADD TO WATCHED",d(),i(),a.classList.contains("current")&&p(s);else{s.push(e);let t=JSON.stringify(s);localStorage.setItem("w",t),l(),d(),a.classList.contains("current")&&p(s)}})),n.addEventListener("click",(function(){if("REMOVE FROM QUEUE"===n.textContent)o.splice(c,1),localStorage.setItem("q",JSON.stringify(o)),n.textContent="ADD TO QUEUE",d(),i(),a.classList.contains("current")&&p(o);else{o.push(e);let t=JSON.stringify(o);localStorage.setItem("q",t),l(),d(),a.classList.contains("current")&&p(o)}}))}(t);document.querySelector(".trailer-btn").addEventListener("click",()=>{var e,n;e=t.title,n=t.release_date,fetch(`https://youtube.googleapis.com/youtube/v3/search?q=${e+" "+n+" trailer"}&key=AIzaSyC2bl8RG1baEBqc2I1X_QiZQWc1V6oCfTU`).then(e=>e.json()).then(e=>{const t=e.items[0].id.videoId,n=document.querySelector(".backdrop-modal");n.innerHTML='\n            <div style=\'position:relative;\' id=\'modal-trailer-wrapper\'>\n              \x3c!-- =================spinner=============== --\x3e\n              <div class="loader" title="2" id=\'modal-trailer-spinner\' style=\'position:absolute; top:50%; left:50%; transform:translate(-50%, -50%);\'>\n                <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                  width="100px" height="100px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">\n                <path fill="#000" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">\n                  <animateTransform attributeType="xml"\n                    attributeName="transform"\n                    type="rotate"\n                    from="0 25 25"\n                    to="360 25 25"\n                    dur="0.5s"\n                    repeatCount="indefinite"/>\n                  </path>\n                </svg>\n                </div>\n                \x3c!-- ================= END spinner============ --\x3e \n              <div class=\'modal-trailer\' style="width: 80vw; height: 36vw"></div>\n            </div> ';const a=document.querySelector(".modal-trailer"),s=document.querySelector("#modal-trailer-spinner"),o=document.querySelector("#modal-trailer-wrapper");a.innerHTML=`<iframe width="100%" height="100%" src="https://www.youtube-nocookie.com/embed/${t}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,a.insertAdjacentHTML("beforeend",'<button type="button" class="close-trailer">X</button>'),setTimeout(()=>{o.removeChild(s);//!видаляємо спіннер через 2s
},2e3),n.classList.remove("is-hidden");const i=function(e){console.log(e.key),"Escape"===e.key&&(n.classList.add("is-hidden"),window.removeEventListener("keydown",i))};window.addEventListener("keydown",i),n.addEventListener("click",e=>{e.target===e.currentTarget&&(window.removeEventListener("keydown",i),n.classList.add("is-hidden"))}),document.querySelector(".close-trailer").addEventListener("click",e=>{window.removeEventListener("keydown",i),n.classList.add("is-hidden")})})});const o=function(e){"Escape"===e.key&&(s.classList.add("is-hidden"),document.body.classList.remove("stop-scroll"),window.removeEventListener("keydown",o))};window.addEventListener("keydown",o),s.addEventListener("click",e=>{e.target===e.currentTarget&&(window.removeEventListener("keydown",o),document.body.classList.remove("stop-scroll"),s.classList.add("is-hidden"))});document.querySelector(".close-modal-btn").addEventListener("click",e=>{window.removeEventListener("keydown",o),document.body.classList.remove("stop-scroll"),s.classList.add("is-hidden")})}),L=function(){const e=document.querySelector(".search-list"),t=document.querySelector(".header-input");e.innerHTML="",t.value=""},E=async function(e=!1,t){const n=document.querySelector("#pagination-wrapper");n.innerHTML="",n.innerHTML='<div id="pagination" class="tui-pagination"></div>';let s=1;const l=document.documentElement.clientWidth;let r=5,c=4;l>=768&&l<1024?(c=8,r=7):l>=1024&&(c=9,r=7);const d={pagination:document.querySelector("#pagination")};if("object"==typeof t){const n=await t;new g.a("pagination",{totalItems:n,itemsPerPage:c,visiblePages:r});//! перший пагінатор генеруємо при рендері main.page
//! потрібна перевірка на ширину вікна, і передаємо ці данні в опції пагінатора
d.pagination.addEventListener("click",(function(t){if(console.dir(t.target),!(([...e])=>e.includes("tui-is-disabled"))(t.target.classList)){if("next"===t.target.textContent)s+=1;else if("prev"===t.target.textContent)s-=1;else if("..."===t.target.textContent){let e=[...t.currentTarget.children].find(e=>"tui-page-btn tui-is-selected"==e.className);s=Number(e.textContent)}else s="last"===t.target.textContent?Math.ceil(n/c):"first"===t.target.textContent?1:Number(t.target.textContent)||s;//!спостерігається проблема коли на оствнній сторінці натискаєш [>]
(async function(t){let n=[];//! елементи на 2(двох) сторінка на сервері --->  [FALSE]
t.isElementsOnPageBefore||await o(i(""+t.currentPageOnServer,e)).then(e=>n=[...e.slice(t.firstIndexOfElements,t.lastIndexOfElements)]);//! елементи на 2(двох) сторінка на сервері --->  [TRUE]
t.isElementsOnPageBefore&&await async function(){return[await o(i(""+(t.currentPageOnServer-1),e)).then(e=>e.slice(t.firstIndexOfElements)),await o(i(""+t.currentPageOnServer,e)).then(e=>e.slice(0,t.lastIndexOfElements))]}().then(e=>{e.forEach(e=>n.push(...e))}),p(n),a.ARR=[...n]})(function(){const e={currentPageOnServer:1,ElementsOnCurrentPage:0,isElementsOnPageBefore:!1,ElementsOnPageBefore:0,firstIndexOfElements:0,lastIndexOfElements:0};return function(e){return s*c>20?(this.currentPageOnServer=Math.ceil(s*c/20),this.ElementsOnCurrentPage=s*c%20,this.ElementsOnCurrentPage>=c?(this.firstIndexOfElements=this.ElementsOnCurrentPage-c,this.lastIndexOfElements=this.ElementsOnCurrentPage):0===this.ElementsOnCurrentPage?(this.firstIndexOfElements=20-c,this.lastIndexOfElements=20):(this.isElementsOnPageBefore=!0,this.ElementsOnPageBefore=c-this.ElementsOnCurrentPage,this.firstIndexOfElements=20-this.ElementsOnPageBefore,this.lastIndexOfElements=this.ElementsOnCurrentPage)):(this.lastIndexOfElements=s*c,this.lastIndexOfElements-c<0?this.firstIndexOfElements=0:this.firstIndexOfElements=this.lastIndexOfElements-c),e}.call(e,e)}())}}))}else{const t=JSON.parse(localStorage.getItem(e)),n=t.length;new g.a("pagination",{totalItems:n,itemsPerPage:c,visiblePages:r});d.pagination.addEventListener("click",(function(e){if(!(([...e])=>e.includes("tui-is-disabled"))(e.target.classList))if("next"===e.target.textContent)s+=1;else if("prev"===e.target.textContent)s-=1;else if("..."===e.target.textContent){let t=[...e.currentTarget.children].find(e=>"tui-page-btn tui-is-selected"==e.className);s=Number(t.textContent)}else s="last"===e.target.textContent?Math.ceil(n/c):"first"===e.target.textContent?1:Number(e.target.textContent)||s;let o=[],i=s*c,l=i-c;o=[...t.slice(l,i)],p(o),a.ARR=[...o]}))}};const w=async function(){return await i(1)};o(w()).then(e=>l(e)).then(e=>{p(e),a.ARR=[...a.ARR,...e],E(!1,w().then(e=>e.total_results))});const S=function(){o(i(1,a.searchInput.value)).then(e=>l(e)).then(e=>{p(e),a.ARR=[...e],E(a.searchInput.value,i(1,a.searchInput.value).then(e=>e.total_results))})};a.genreChoise.addEventListener("click",()=>{a.categoryGenreList.classList.toggle("is-hidden")}),a.sortChoise.addEventListener("click",()=>{a.sortList.classList.toggle("is-hidden")}),a.yearChoise.addEventListener("click",()=>{a.yearList.classList.toggle("is-hidden")}),a.categoryGenreList.addEventListener("click",e=>{e.path.forEach(e=>{"category-list-item"===e.className&&(a.genreChoise.textContent=e.textContent,a.genreChoise.dataset.id=e.dataset.id,a.categoryGenreList.classList.add("is-hidden"))}),S()}),a.sortList.addEventListener("click",e=>{e.path.forEach(e=>{"sort-list-item"===e.className&&(a.sortChoise.textContent=e.textContent,a.sortChoise.dataset.id=e.dataset.id,a.sortList.classList.add("is-hidden"))}),S()}),a.yearList.addEventListener("click",e=>{e.path.forEach(e=>{"year-list-item"===e.className&&(a.yearChoise.textContent=e.textContent,a.yearChoise.dataset.id=e.dataset.id,a.yearList.classList.add("is-hidden"))}),S()}),a.clearBtn.addEventListener("click",e=>{e.preventDefault(),a.yearChoise.textContent="Год",a.yearChoise.dataset.id="",a.sortChoise.textContent="Сортировка",a.sortChoise.dataset.id="vote_average.desc",a.genreChoise.textContent="Категория",a.genreChoise.dataset.id="",S()});document.querySelector(".search-error"),document.querySelector(".search-error");const _=document.querySelector(".header-input");document.querySelector("form").addEventListener("submit",e=>{e.preventDefault(),a.listPrediction.classList.add("is-hidden"),a.errorNotification.classList.add("is-hidden");const t=(n=_.value,i(1,n));var n;console.log("input.value",_.value),o(t).then(e=>l(e)).then(e=>{p(e),a.ARR=[...e],E(_.value,t.then(e=>e.total_results))})});var O=n("jffb"),q=n.n(O);const k=document.querySelector(".header-input"),P=document.querySelector(".search-list");k.addEventListener("input",q()((function(){if(a.genreWrapper.classList.add("is-hidden"),a.sortWrapper.classList.add("is-hidden"),P.classList.remove("is-hidden"),P.innerHTML="",a.errorNotification.classList.add("is-hidden"),!k.value)return P.classList.add("is-hidden"),a.genreWrapper.classList.remove("is-hidden"),void a.sortWrapper.classList.remove("is-hidden");o(i(1,k.value)).then(e=>{if(!e.length)return void a.errorNotification.classList.remove("is-hidden");let t=0;e.forEach(({title:e,id:n,vote_average:a})=>{t>4||(t++,P.insertAdjacentHTML("beforeend",`<li class="search-list-item" data-id=${n}>${e} - <span class="vote-average">${a}</span></li>`))}),a.ARR=[...a.ARR,...e]})}),500));const I=document.querySelector(".lib-link"),T=(document.querySelector(".header"),function(){E("w"),document.querySelector(".watched").classList.add("current-btn"),document.querySelector(".queue").classList.remove("current-btn");let e=JSON.parse(localStorage.getItem("w"))||[];e=l(e),p(e),a.ARR=[...e]}),R=function(){E("q"),document.querySelector(".watched").classList.remove("current-btn"),document.querySelector(".queue").classList.add("current-btn");let e=JSON.parse(localStorage.getItem("q"))||[];e=l(e),p(e),a.ARR=[...e]};I.addEventListener("click",(function(){const e=document.querySelector(".btn-container"),t=document.querySelector(".input-wrap"),n=document.querySelector(".nav-container"),a=document.querySelector(".lib-link"),s=document.querySelector("#home");e.classList.remove("is-hidden"),t.classList.add("is-hidden"),n.classList.add("lib-container"),a.classList.add("current"),s.classList.remove("current"),T(),document.querySelector(".watched").addEventListener("click",T),document.querySelector(".queue").addEventListener("click",R)}));n("tEqF");const M=document.querySelector(".film-list"),A=document.querySelector(".search-list"),D=document.querySelector(".logo-link"),N=document.querySelector("#home"),W=document.querySelector(".footer-logo"),H=function(e){e.path.forEach(e=>{if("film-list-item"===e.className||"search-list-item"===e.className){const t=+e.dataset.id;b(t)}}),L()},j=function(e){e.preventDefault(),a.genreWrapper.classList.remove("is-hidden"),a.sortWrapper.classList.remove("is-hidden"),a.yearChoise.textContent="Год",a.yearChoise.dataset.id="",a.sortChoise.textContent="Сортировка",a.sortChoise.dataset.id="vote_average.desc",a.genreChoise.textContent="Категория",a.genreChoise.dataset.id="";const t=document.querySelector(".btn-container"),n=document.querySelector(".input-wrap"),s=document.querySelector(".nav-container"),r=document.querySelector(".lib-link"),c=document.querySelector("#home");t.classList.add("is-hidden"),n.classList.remove("is-hidden"),s.classList.remove("lib-container"),r.classList.remove("current"),c.classList.add("current"),L();const d=async function(){return await i(1)};o(d()).then(e=>l(e)).then(e=>{p(e),a.ARR=[...e],E(!1,d().then(e=>e.total_results))})};M.addEventListener("click",H),A.addEventListener("click",e=>{a.genreWrapper.classList.remove("is-hidden"),a.sortWrapper.classList.remove("is-hidden"),H(e)}),D.addEventListener("click",j),N.addEventListener("click",j),W.addEventListener("click",j);a.langChoise.addEventListener("click",()=>{a.langList.classList.toggle("is-hidden")}),a.langList.addEventListener("click",e=>{e.path.forEach(e=>{"languages-list-item"===e.className&&(a.langChoise.innerHTML=e.innerHTML,a.langChoise.dataset.id=e.dataset.id,a.langList.classList.add("is-hidden"))}),console.dir(a.categoryGenreList.children),"ru"===a.langChoise.dataset.id?a.home.textContent="ГЛАВНАЯ":a.home.textContent="HOME","ru"===a.langChoise.dataset.id?a.libLink.textContent="БИБЛИОТЕКА":a.libLink.textContent="MY LIBRARY","ru"===a.langChoise.dataset.id?a.logoText.textContent="Фильмотека":a.logoText.textContent="Filmoteka","ru"===a.langChoise.dataset.id?a.searchInput.placeholder="Поиск фильмов":a.searchInput.placeholder="Search films","ru"===a.langChoise.dataset.id?a.sortChoise.textContent="Сортировка":a.sortChoise.textContent="Sort by","ru"===a.langChoise.dataset.id?a.genreChoise.textContent="Категория":a.genreChoise.textContent="Category","ru"===a.langChoise.dataset.id?a.yearChoise.textContent="Год":a.genreChoise.textContent="Year","ru"===a.langChoise.dataset.id?a.clearBtn.textContent="Очистить":a.clearBtn.textContent="Clear",[...a.sortList.children].forEach(e=>{"popularity.desc"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="По популярности(↓)":e.textContent="popularity.desc"),"popularity.asc"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="По популярности(↑)":e.textContent="popularity.asc"),"vote_average.desc"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="По рейтингу(↓)":e.textContent="vote_average.desc"),"vote_average.asc"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="По рейтингу(↑)":e.textContent="vote_average.asc")}),[...a.categoryGenreList.children].forEach(e=>{"28"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="Экшн":e.textContent="Action"),"12"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="Приключения":e.textContent="Adventure"),"16"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="Аниме":e.textContent="Animation"),"35"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="Комедия":e.textContent="Comedy"),"80"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="Криминал":e.textContent="Crime"),"99"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="Документальный":e.textContent="Documentary"),"18"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="Драма":e.textContent="Drama"),"10751"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="Семейный":e.textContent="Family"),"14"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="Фантастика":e.textContent="Fantasy"),"36"===e.dataset.id&&("ru"===a.langChoise.dataset.id?e.textContent="Исторический":e.textContent="History")}),"ru"===a.langChoise.dataset.id?a.footerLogo.textContent="Фильмотека":a.footerLogo.textContent="Filmoteka","ru"===a.langChoise.dataset.id?a.sectionDesc.textContent="НАШИ ПРИЛОЖЕНИЯ":a.sectionDesc.textContent="OUR APPLICATIONS","ru"===a.langChoise.dataset.id?a.sectionDescJoin.textContent="ПРИСОЕДИНЯЙТЕСЬ К СОЦСЕТЯМ":a.sectionDescJoin.textContent="JOIN US ON OUR NETWORKS","ru"===a.langChoise.dataset.id?a.sectionDescSupport.textContent="Поддержка":a.sectionDescSupport.textContent="Support","ru"===a.langChoise.dataset.id?a.copyrightDesc.innerHTML='<p class="copyright-desc">&copy 2020 | Все права защищены | Разработано с</p>\n          <p class="developer"> \n            <span>\n              <svg class="footer-svg" width="14" height="13">\n                <use href="./images/sprite.svg#icon-favorite"></use>\n              </svg>\n            </span>\n            <a href="https://goit.ua/"\n              ><span class="copyright-logo">Go</span>\n              <span class="copyright-accent">IT </span>\n            </a>\n            <span class="students">&nbsp Студентами</span></p></div>':a.copyrightDesc.innerHTML='<p class="copyright-desc">&copy 2020 | All Rights Reserved |</p>\n          <p class="developer">&nbsp Developed with\n            <span>\n              <svg class="footer-svg" width="14" height="13">\n                <use href="./images/sprite.svg#icon-favorite"></use>\n              </svg>\n            </span>\n            by &nbsp\n            <a href="https://goit.ua/"\n              ><span class="copyright-logo">Go</span>\n              <span class="copyright-accent">IT </span>\n            </a>\n            <span class="students">&nbsp Students</span></p></div>',o(i(1,a.searchInput.value)).then(e=>l(e)).then(e=>{p(e),a.ARR=[...e],E(a.searchInput.value,i(1,a.searchInput.value).then(e=>e.total_results))})})},jTtp:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,s){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="film-image" src="http://image.tmdb.org/t/p/w440_and_h660_face'+e.escapeExpression("function"==typeof(o=null!=(o=i(n,"poster_path")||(null!=t?i(t,"poster_path"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"poster_path",hash:{},data:s,loc:{start:{line:2,column:73},end:{line:2,column:88}}}):o)+'" alt="Фильм" />\n\n'},3:function(e,t,n,a,s){return'<img class="film-image" style="height:auto" src="https://via.placeholder.com/416x500?text=YOU%27RE+AWESOME+:)"\n  alt="placeholder">\n'},5:function(e,t,n,a,s){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <p class="description">"'+e.escapeExpression("function"==typeof(o=null!=(o=i(n,"overview")||(null!=t?i(t,"overview"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"overview",hash:{},data:s,loc:{start:{line:38,column:28},end:{line:38,column:40}}}):o)+'"</p>\n'},7:function(e,t,n,a,s){return'    <p class="description">К сожалению у фильма нет описания :(</p>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,s){var o,i,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=u(n,"if").call(l,null!=t?u(t,"poster_path"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:1,column:0},end:{line:7,column:7}}}))?o:"")+'<div class="info-section">\n  <h2 class="title">'+d(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===c?i.call(l,{name:"title",hash:{},data:s,loc:{start:{line:9,column:20},end:{line:9,column:29}}}):i)+'</h2>\n  <p class="trailer-btn">\n    <svg class="play-svg" width="24" height="24">\n      <use href="./images/sprite.svg#icon-play"></use>\n    </svg>\n    Смотреть трейлер</p>\n  <div class="modal-info">\n    <ul class="list-info">\n      <li class="list-info-item">\n        <span class="about-film about-film-votes">Ретинг / кол-во Голосов</span><span\n          class="about-film-vote">'+d(typeof(i=null!=(i=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?i:r)===c?i.call(l,{name:"vote_average",hash:{},data:s,loc:{start:{line:19,column:34},end:{line:19,column:50}}}):i)+'</span><span class="about-film-info vote-divider"> / </span>\n        <span class="about-film-info vote-count">'+d(typeof(i=null!=(i=u(n,"vote_count")||(null!=t?u(t,"vote_count"):t))?i:r)===c?i.call(l,{name:"vote_count",hash:{},data:s,loc:{start:{line:20,column:49},end:{line:20,column:63}}}):i)+'</span>\n      </li>\n      <li class="list-info-item">\n        <span class="about-film about-film-popularity">Популярность</span><span\n          class="about-film-info">'+d(typeof(i=null!=(i=u(n,"popularity")||(null!=t?u(t,"popularity"):t))?i:r)===c?i.call(l,{name:"popularity",hash:{},data:s,loc:{start:{line:24,column:34},end:{line:24,column:48}}}):i)+'</span>\n      </li>\n      <li class="list-info-item">\n        <span class="about-film about-film-title">Название</span><span\n          class="about-film-info original-title">'+d(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===c?i.call(l,{name:"title",hash:{},data:s,loc:{start:{line:28,column:49},end:{line:28,column:58}}}):i)+'</span>\n      </li>\n      <li class="list-info-item">\n        <span class="about-film about-film-genre">Жанры</span><span class="about-film-info">'+d(typeof(i=null!=(i=u(n,"genre_ids")||(null!=t?u(t,"genre_ids"):t))?i:r)===c?i.call(l,{name:"genre_ids",hash:{},data:s,loc:{start:{line:31,column:92},end:{line:31,column:105}}}):i)+'</span>\n      </li>\n    </ul>\n  </div>\n  <div>\n    <h3 class="subtitle">О фильме</h3>\n'+(null!=(o=u(n,"if").call(l,null!=t?u(t,"overview"):t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s,loc:{start:{line:37,column:4},end:{line:41,column:11}}}))?o:"")+'  </div>\n  <button class="first add-btn" type="button">Добавить в просмотренные</button>\n  <button class="second add-btn" type="button">Добавить в очередь</button>\n  <button class="close-modal-btn" type="button">X</button>\n</div>\n\n'},useData:!0})},tEqF:function(e,t){const n="light-theme",a="dark-theme",s=document.querySelector("#theme-switch-toggle");s.addEventListener("change",(function(e){console.log(e),e.target.checked?(o.classList.add(a),o.classList.remove(n),localStorage.setItem("Theme","dark-theme")):e.target.checked||(o.classList.add(n),o.classList.remove(a),localStorage.setItem("Theme","light-theme"))}));const o=document.querySelector("body");"dark-theme"===localStorage.getItem("Theme")&&(o.classList.add(a),s.checked=!0)}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.2c3a6434d6b523689709.js.map